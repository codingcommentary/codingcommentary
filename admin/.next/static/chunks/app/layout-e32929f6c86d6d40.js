(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{5371:function(e,r,t){Promise.resolve().then(t.bind(t,172)),Promise.resolve().then(t.bind(t,6600)),Promise.resolve().then(t.t.bind(t,1703,23)),Promise.resolve().then(t.t.bind(t,2308,23)),Promise.resolve().then(t.t.bind(t,8877,23)),Promise.resolve().then(t.bind(t,4962))},172:function(e,r,t){"use strict";t.d(r,{Custom:function(){return v},Providers:function(){return k}});var n=t(7437),s=t(2265),o=t(2457),i=t(492),c=t(369),u=t(7586);let a=(0,i.xC)({reducer:{[c.gk.reducerPath]:c.gk.reducer,auth:u.ZP},devTools:!1,middleware:e=>e().concat(c.gk.middleware)});(async()=>{await a.dispatch(c.gk.endpoints.loadUser.initiate({},{forceRefetch:!0}))})(),t(8460);var d=()=>(0,n.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,n.jsx)("div",{className:"loader"})}),l=t(1316),f=t(998);let h=(0,l.ZP)("http://localhost:8000/",{transports:["websocket"]});function k(e){let{children:r}=e;return(0,n.jsx)(o.zt,{store:a,children:r})}let v=e=>{let{children:r}=e,{isLoading:t}=(0,c.Ac)({}),[o,i]=(0,s.useState)(!1);if((0,s.useEffect)(()=>{h.on("connection",()=>{}),i(!0)},[]),o)return(0,n.jsx)("div",{children:t?(0,n.jsx)(d,{}):(0,n.jsx)("div",{children:(0,n.jsx)(f.SessionProvider,{children:r})})})}},6600:function(e,r,t){"use strict";t.d(r,{ThemeProvider:function(){return o}});var n=t(7437);t(2265);var s=t(5169);function o(e){let{children:r,...t}=e;return(0,n.jsx)(s.f,{...t,children:r})}},369:function(e,r,t){"use strict";t.d(r,{Ac:function(){return a},gk:function(){return c}});var n=t(2800),s=t(1631),o=t(7586),i=t(2649);let c=(0,n.LC)({reducerPath:"api",baseQuery:(0,s.ni)({baseUrl:"http://localhost:8000/api/v1",prepareHeaders:e=>{let r=i.Z.get("accessToken"),t=i.Z.get("refreshToken");return r&&e.set("access-token",r),t&&e.set("refresh-token",t),e}}),endpoints:e=>({refreshToken:e.query({query:e=>({url:"refresh",method:"GET",credentials:"include"})}),loadUser:e.query({query:e=>({url:"me",method:"GET",credentials:"include"}),async onQueryStarted(e,r){let{queryFulfilled:t,dispatch:n}=r;try{let e=await t;n((0,o.nD)({accessToken:e.data.accessToken,refreshToken:e.data.refreshToken,user:e.data.user}))}catch(e){console.log(e)}}})})}),{useRefreshTokenQuery:u,useLoadUserQuery:a}=c},7586:function(e,r,t){"use strict";t.d(r,{_e:function(){return i},f0:function(){return s},nD:function(){return o}});let n=(0,t(492).oM)({name:"auth",initialState:{token:"",user:""},reducers:{userRegistration:(e,r)=>{e.token=r.payload.token},userLoggedIn:(e,r)=>{e.token=r.payload.accessToken,e.refreshToken=r.payload.refreshToken,e.user=r.payload.user},userLoggedOut:e=>{e.token="",e.user=""}}}),{userRegistration:s,userLoggedIn:o,userLoggedOut:i}=n.actions;r.ZP=n.reducer},8460:function(){},8877:function(){}},function(e){e.O(0,[415,863,786,300,966,971,23,744],function(){return e(e.s=5371)}),_N_E=e.O()}]);